{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/main.js","../src/js/pixabay-api.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { imgGallery } from '../main';\n\nexport const imageTemplate = (images) => {\n    return images.map(image =>\n        `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href =\"${image.largeImageURL}\">\n        <img class=\"gallery-image\"\n        width=\"1280\"\n        height=\"152\"\n        src=\"${image.webformatURL}\"\n        data-source=\"${image.largeImageURL}\"\n        alt=\"${image.tags}\" />\n        </a>\n        <ul class=\"gallery-description\">\n        <li>\n        <h3>Likes</h3><p>${image.likes}</p>\n        </li>\n        <li>\n        <h3>Views</h3><p>${image.views}</p>\n        </li>\n        <li>\n        <h3>Comments</h3><p>${image.comments}</p>\n        </li>\n        <li>\n        <h3>Downloads</h3><p>${image.downloads}</p>\n        </li>\n        </ul>\n        </li>`).join('');\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImage } from './js/pixabay-api';\nimport { imageTemplate } from './js/render-functions';\n\nexport const imgGallery = document.querySelector('.gallery');\n\nexport const formEl = document.querySelector('.form');\n\nconst galleryCfg = {\n    captionsData: 'alt',\n};\n\nlet lightbox = new SimpleLightbox('.gallery a', galleryCfg);\nlightbox.on('show.simplelightbox', function () {});\n\nformEl.addEventListener('submit', e => {\n    e.preventDefault();\n    const inputValue = e.currentTarget.elements.image.value.trim();\n    imgGallery.innerHTML = '<div class=\"loader\"></div>';\n\n    getImage(inputValue).then(data => {\n        const marcup = imageTemplate(data.hits);\n        imgGallery.innerHTML = marcup;\n        lightbox.refresh();\n        if (data.hits.length === 0) {\n            iziToast.error({\n                maxWidth: '432px',\n                height: '48px',\n                color: 'red',\n                position: 'topRight',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            })\n        }\n    })\n        .catch(error => {\n            iziToast.error({\n                maxWidth: '432px',\n                height: '48px',\n                color: 'red',\n                position: 'topRight',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n\n            })\n        })\n        .finally(() => {\n            formEl.requestFullscreen()\n        })\n\n});\n\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { imgGallery } from '../main';\nimport { formEl } from '../main';\n    \n    \nexport function getImage(inputValue) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const params = new URLSearchParams({\n        key: '43037018-42eeb016e636e06528ba4e47a',\n        q: inputValue,\n        image_type: 'photo',\n        orientation: 'horisontal',\n        safesearch: 'true',\n    });\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n    return fetch(url).then(res => {\n        if (!res.ok) {\n            throw new Error(response.status);\n        }\n        return res.json();\n    })\n}\n\n \n\n\n"],"names":["imageTemplate","images","image","imgGallery","formEl","galleryCfg","lightbox","SimpleLightbox","e","inputValue","getImage","data","marcup","iziToast","error","BASE_URL","END_POINT","params","url","res"],"mappings":"6vBAQO,MAAMA,EAAiBC,GACnBA,EAAO,IAAIC,GACd;AAAA,yCACiCA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,eAI7CA,EAAM,YAAY;AAAA,uBACVA,EAAM,aAAa;AAAA,eAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,2BAIEA,EAAM,KAAK;AAAA;AAAA;AAAA,2BAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,8BAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,+BAGbA,EAAM,SAAS;AAAA;AAAA;AAAA,cAGhC,EAAE,KAAK,EAAE,ECxBVC,EAAa,SAAS,cAAc,UAAU,EAE9CC,EAAS,SAAS,cAAc,OAAO,EAE9CC,EAAa,CACf,aAAc,KAClB,EAEA,IAAIC,EAAW,IAAIC,EAAe,aAAcF,CAAU,EAC1DC,EAAS,GAAG,sBAAuB,UAAY,CAAA,CAAE,EAEjDF,EAAO,iBAAiB,SAAUI,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,cAAc,SAAS,MAAM,MAAM,OACxDL,EAAW,UAAY,6BAEvBO,EAASD,CAAU,EAAE,KAAKE,GAAQ,CAC9B,MAAMC,EAASZ,EAAcW,EAAK,IAAI,EACtCR,EAAW,UAAYS,EACvBN,EAAS,QAAO,EACZK,EAAK,KAAK,SAAW,GACrBE,EAAS,MAAM,CACX,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QAAS,0EACzB,CAAa,CAEb,CAAK,EACI,MAAMC,GAAS,CACZD,EAAS,MAAM,CACX,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QAAS,0EAEzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXT,EAAO,kBAAmB,CACtC,CAAS,CAET,CAAC,EC3CM,SAASM,EAASD,EAAY,CACjC,MAAMM,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGR,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACKS,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC1B,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAM,SAAS,MAAM,EAEnC,OAAOA,EAAI,MACnB,CAAK,CACL"}